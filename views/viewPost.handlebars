<!DOCTYPE html>
<!--This is the real handlebars file for posts! The other one can be
kept around as a tester for viewing posts until
this one is up and running.-->
<html lang='eg'>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset='UTF-8'/>
  <title>View Posts of a Profile</title>
  <link rel='stylesheet' href=''/>
		</head>
<!--- For efficiency there is no CSS yet. This is so we have one CSS sheet
made collaboratively-->

    {{>modal}}
    <div id="deleteProfile" onclick="showModal('{{id}}')" class="a-box flex-center">Modal</div>
       <h1 id="text">View Post</h1>

    
    <button id="like" onClick="like({{post_id}})"> Like </button>
    <button id="dislike" onClick="dislike({{post_id}})"> Dislike </button>
    <button id="delete"> Delete post </button>

    <div id="post_info" >
      <p id="pic"> Dish image: </p>
      <img id="image" width="150" height="150" src="/api/photos/{{picture}}">
      <p id="likes"> Likes: {{likes}} </p>
      <p id="dislikes"> Dislikes: {{dislikes}} </p>
      <p id="postid"> Post ID: {{post_id}} </p>
      <p id="restaurant_id"> Restaurant ID: {{restaurant_id}}</p>
      <p id="dish"> Dish name: {{dish_name}}</p>
      <p id="author"> Author ID: {{author_id}}</p>
      <p id="post_caption"> Post caption: {{caption}}</p>
      <p id="post_rating"> Post rating: {{rating}}</p>
      <p id="post_date"> Post date: {{date}}</p>

      <br>
      <label> Add comment: </label>
      <input id="comment_text">
      <button id="comment" onClick="comment({{post_id}})"> Like </button>
      <br><br><br>

      {{#each comments}}
        <img src="{{profile_picture}}" style="width:50px;height:50px">
        <p> {{username}}: {{comment_text}}</p>
        <br><br>
      {{/each}}
    </div>



  <script src="/js/jquery-3.3.1.min.js"></script>
  <script src="/js/viewPost.js"></script>
  <script>
    // modal stuff
    const modal = $('#myModal');

    function showModal(id)
    {
      modal.attr('style', 'display:block');
      $('#modal-header').text('Delete Profile?');
      $('#profile_id-modal').text(id);
      $('#profile_id-modal').hide();
    }

    // close popup modal
    $('.close-modal').click(() =>
    {
      modal.attr('style', 'display:none');
  });
  </script>

  
</body>
<html>
